---
title: "Référence API - v2.0"
description: "Documentation API complète pour v2.0 avec support GraphQL"
---

# API Salsa as a Service v2.0

L'API v2.0 ajoute le support GraphQL, des webhooks améliorés et de nouveaux endpoints de prévision IA.

<Callout type="info">
Nouveau dans v2.0 : endpoint GraphQL disponible sur https://api.salsaaservice.com/graphql
</Callout>

---

## URL de base

```text
https://api.salsaaservice.com/v2
```

---

## Authentification

Toutes les requêtes API nécessitent une authentification avec votre clé API.

### En-tête d'authentification

```http
Authorization: Bearer VOTRE_CLE_API
```

<Callout type="warning">
Les clés API v1.0 ne fonctionnent pas avec v2.0. Générez une nouvelle clé depuis Paramètres > Développeur > API v2.0.
</Callout>

---

## Limites de taux

- Plan Starter : 10 000 requêtes par heure  
- Plan Professionnel : 100 000 requêtes par heure  
- Plan Entreprise : illimité  

---

## API GraphQL

### Endpoint

```text
https://api.salsaaservice.com/graphql
```

### Exemple de requête

```graphql
query GetProductionForecast {
  forecast(location: "loc_123", days: 7) {
    date
    recipes {
      id
      name
      predictedDemand {
        quantity
        unit
        confidence
      }
    }
  }
}
```

### Abonnements en temps réel

```graphql
subscription OnQualityAlert {
  qualityAlert(location: "loc_123") {
    id
    severity
    sensorId
    message
    timestamp
  }
}
```

---

## API REST

### Prévisions IA

```http
GET /v2/ai/forecast?location=loc_123&days=7
```

```http
POST /v2/ai/forecast/train
```

### Capteurs IoT

```http
GET /v2/iot/sensors?location=loc_123
```

```http
GET /v2/iot/sensors/{sensor_id}/readings?start_date=2024-01-01&end_date=2024-01-31
```

```http
POST /v2/iot/sensors/{sensor_id}/alerts
```

---

## Webhooks v2

### Événements disponibles

- forecast.updated  
- sensor.reading  
- sensor.alert  
- production.batch_completed  
- inventory.low_stock  
- quality.alert  

### Configurer un webhook

```http
POST /v2/webhooks
```

```json
{
  "url": "https://votre-app.com/webhooks/salsa",
  "events": [
    "forecast.updated",
    "sensor.alert",
    "production.batch_completed"
  ],
  "secret": "votre_secret_webhook",
  "active": true
}
```

---

## Environnement Sandbox

```text
https://api-sandbox.salsaaservice.com/v2
```

<Callout type="warning">
L'environnement sandbox utilise des données de test et n'affecte pas votre compte de production.
</Callout>

---

## Support

Email : api-support@salsaaservice.com
